function addquest(){var n=$("#question").val(),t=$("#optionone").val(),i=$("#optiontwo").val(),u=$("#optionthree").val(),f=$("#optionfour").val(),r=$("#answer").val();if(n==""||t==""||i==""||r=="")return swal.fire("Adding Question Aborted","Provide all required fields before adding!","error");$("#questionHolder > tbody").append("<tr><td>"+n+"<\/td><td>"+t+"<\/td><td>"+i+"<\/td><td>"+u+"<\/td><td>"+f+"<\/td><td>"+r+'<\/td><td><button type="button" onclick="remove(this);" class="btn btn-danger btn-sm who"><i class="fa fa-trash"><\/i><\/button><\/td><\/tr>');$("#question").val("");$("#optionone").val("");$("#optiontwo").val("");$("#optionthree").val("");$("#optionfour").val("");$("#answer").val("").focus()}function remove(n){var t=$(n).closest("TR"),i=$("TD",t).eq(0).html();Swal.fire({title:"Are you sure?",text:"Remove: "+i+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"$success",cancelButtonColor:"$danger",confirmButtonText:"Yes, remove it!"}).then(n=>{if(n.value){var i=$("#questionHolder")[0];i.deleteRow(t[0].rowIndex);Swal.fire("Deleted!","Question Removed","success")}})}function postquestion(){var n={questions:[]},t;if($("#questionHolder TBODY TR").each(function(){var i=$(this),t={};t.question=i.find("TD").eq(0).html();t.optionone=i.find("TD").eq(1).html();t.optiontwo=i.find("TD").eq(2).html();t.optionthree=i.find("TD").eq(3).html();t.optionfour=i.find("TD").eq(4).html();t.answer=i.find("TD").eq(5).html();n.questions.push(t)}),n.Id=$("#Node_Id").val(),n.ClassId=$("#Node_ClassId").val(),n.SubjectId=$("#Node_SubjectId").val(),n.Compulsory=$("#Node_Compulsory").val(),n.Node_Subject=$("#Node_Node_Subject").val(),n.Title=$("#Node_Title").val(),n.PassageQuestion=tinyMCE.get("Node_PassageQuestion").getContent(),t=Object.keys(n.questions).length,t<1&&n.Id!=""||n.ClassId==""||n.SubjectId==""||n.Node_Subject==""||n.Title==""||n.PassageQuestion=="")return swal.fire("All Questions Submission Failed","Provide all required fields before submitting!","error");else{const t=Swal.mixin({customClass:{confirmButton:"btn btn-success btn-sm",cancelButton:"btn btn-danger btn-sm"},buttonsStyling:!1});t.fire({title:"Submit This Report!",text:"Confirm every information before submitting this report!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Submit!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(i=>{i.isConfirmed?$.ajax({method:"POST",url:"/api/NodeQuestions",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:n,cache:!1,success:function(n){$.unblockUI();n.success?(t.fire("Report Information!",n.message,"success"),window.location.replace("/Questions/NodeQuestion/Index")):Swal.fire({icon:"error",title:"Oops...",text:n.message,footer:"Outcome Server Report"})},beforeSend:function(){blockcallback()},error:function(){$.unblockUI();Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Check internet connectivity"})},complete:function(){$.unblockUI()}}):i.dismiss===Swal.DismissReason.cancel&&t.fire("Cancelled","Report Not Submitted!","Information")})}}function blockcallback(){$.blockUI({message:'<div class="bs-spinner mt-4 mt-lg-0"><div class= "spinner-border text-success mr-2 mt-2" style="width: 10rem; height: 10rem;" role="status"><span class="sr-only">Loading...<\/span><\/div> ',fadeIn:800,overlayCSS:{backgroundColor:"#1b2024",opacity:.8,zIndex:1200,cursor:"wait"},css:{border:0,color:"#fff",zIndex:1201,padding:0,backgroundColor:"transparent"},onBlock:function(){}})}function deletequestion(n){const t=$(n).attr("data-id"),i=Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});i.fire({title:"Do you want to delete this question?",text:"You won't be able to recover this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(i=>{i.isConfirmed?$.ajax({type:"DELETE",url:"/api/DeleteNote?id="+t,success:function(t){if($.unblockUI(),t.success){swal.fire("Deleted!",t.message,"success");var i=$(n).closest("TR"),r=$("#questionHolder")[0];r.deleteRow(i[0].rowIndex)}else swal.fire("Command Execution Failed!",t.message,"error")},beforeSend:function(){blockcallback()},error:function(){$.unblockUI();Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Check internet connectivity!"})},complete:function(){$.unblockUI()}}):i.dismiss===Swal.DismissReason.cancel&&swal.fire("Cancelled","Node Question NOT Deleted!","error")})}$(".basic-subject").select2({placeholder:"Select Subject",theme:"classic",allowClear:!0});$(".select-for-class").select2({placeholder:"Select Class",theme:"classic",allowClear:!0});$(document).ready(function(){$("#Node_PassageQuestion").length>0&&tinymce.init({selector:"textarea#Node_PassageQuestion",theme:"modern",height:300,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | l      ink image | print preview media fullpage | forecolor backcolor emoticons",style_formats:[{title:"Bold text",inline:"b"},{title:"Red text",inline:"span",styles:{color:"#ff0000"}},{title:"Red header",block:"h1",styles:{color:"#ff0000"}},{title:"Example 1",inline:"span",classes:"example1"},{title:"Example 2",inline:"span",classes:"example2"},{title:"Table styles"},{title:"Table row 1",selector:"tr",classes:"tablerow1"}]})});